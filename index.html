<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Municipal Election Intelligence Dashboard</title>

<link href="https://fonts.googleapis.com/css2?family=Anek+Devanagari:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root{
 --primary:#f97316;       /* Orange */
 --secondary:#86efac;     /* Light Green */
 --secondary-dark:#16a34a;
 --bg:#f8fafc;
 --card:#ffffff;
 --border:#e5e7eb;
 --dark:#0f172a;
 --muted:#475569;
}

*{box-sizing:border-box;font-family:'Anek Devanagari',sans-serif}
body{margin:0;background:var(--bg);color:var(--dark)}

header{
 background:linear-gradient(90deg,var(--primary),var(--secondary-dark));
 color:#fff;
 padding:22px 28px;
 font-size:24px;
 font-weight:700;
 letter-spacing:.3px
}

.main{
 max-width:1600px;
 margin:auto;
 padding:30px
}

/* TABS */
.tabs{
 display:flex;
 gap:14px;
 margin-bottom:28px
}
.tab{
 padding:10px 24px;
 border-radius:999px;
 background:#fff;
 border:1px solid var(--border);
 cursor:pointer;
 font-weight:600;
 transition:.2s
}
.tab.active{
 background:var(--primary);
 color:#fff;
 border-color:var(--primary)
}

/* GRID */
.grid{
 display:grid;
 grid-template-columns:repeat(auto-fill,minmax(360px,1fr));
 gap:24px
}

/* CARD */
.card{
 background:linear-gradient(180deg,#ffffff,#f0fdf4);
 border-radius:22px;
 padding:24px;
 border:1px solid var(--border);
 cursor:pointer;
 transition:.25s;
 position:relative
}
.card::after{
 content:"";
 position:absolute;
 inset:0;
 border-radius:22px;
 box-shadow:0 14px 32px rgba(22,163,74,.08);
 opacity:0;
 transition:.25s
}
.card:hover::after{opacity:1}
.card:hover{transform:translateY(-4px)}

.card strong{
 font-size:18px;
 font-weight:700
}
.card p{
 margin:12px 0 0;
 font-size:14.5px;
 color:var(--muted);
 line-height:1.65
}

/* MODALS */
.modal{
 position:fixed;
 inset:0;
 background:#fff;
 display:none;
 z-index:200;
 overflow:auto
}
.modal.active{display:block}

.modal-header{
 padding:22px 28px;
 border-bottom:1px solid var(--border);
 display:flex;
 justify-content:space-between;
 align-items:center
}
.close{
 font-size:26px;
 cursor:pointer
}

/* SEATS */
.seats{
 display:grid;
 grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
 gap:20px;
 margin-top:28px
}
.seat{
 background:#f0fdf4;
 border:1px solid #bbf7d0;
 border-radius:18px;
 padding:20px;
 cursor:pointer;
 transition:.2s
}
.seat:hover{
 background:#ecfdf5;
 transform:translateY(-2px)
}

.badge{
 display:inline-block;
 padding:6px 14px;
 font-size:13px;
 border-radius:999px;
 background:#dcfce7;
 color:#166534;
 margin-bottom:8px
}

/* BOXES */
.box{
 margin-top:28px;
 border-radius:20px;
 padding:22px
}
.action{
 background:#f0fdf4;
 border:1px solid #86efac
}
.tracker{
 background:#fff7ed;
 border:1px solid #fed7aa
}

ul{padding-left:18px}
li{margin-bottom:6px}
</style>
</head>

<body>

<header>üèô Municipal Corporation ‚Äì Election Intelligence Dashboard</header>

<div class="main">
 <div class="tabs">
  <div class="tab active" onclick="setAssembly(1)">Assembly 1 (Ward 1‚Äì9)</div>
  <div class="tab" onclick="setAssembly(2)">Assembly 2 (Ward 10‚Äì15)</div>
 </div>

 <div class="grid" id="wardGrid"></div>
</div>

<!-- WARD MODAL -->
<div class="modal" id="wardModal">
 <div class="modal-header">
  <h2 id="wardTitle"></h2>
  <div class="close" onclick="closeWard()">‚úï</div>
 </div>
 <div class="main">
  <div class="seats" id="seatGrid"></div>
 </div>
</div>

<!-- SEAT MODAL -->
<div class="modal" id="seatModal">
 <div class="modal-header">
  <h2 id="seatTitle"></h2>
  <div class="close" onclick="closeSeat()">‚úï</div>
 </div>

 <div class="main">
  <canvas id="trendChart" height="120"></canvas>

  <div class="box action">
   <h3>üéØ ‡§µ‡§ø‡§ú‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§ï‡•É‡§§‡•Ä ‡§Ü‡§∞‡§æ‡§ñ‡§°‡§æ</h3>
   <ul>
    <li>‡§™‡•ç‡§∞‡§≠‡§æ‡§ó‡§®‡§ø‡§π‡§æ‡§Ø ‡§Æ‡§§‡§¶‡§æ‡§∞ ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§µ‡§æ‡§¢‡§µ‡§æ</li>
    <li>‡§Æ‡§π‡§ø‡§≤‡§æ ‡§µ ‡§ú‡•ç‡§Ø‡•á‡§∑‡•ç‡§† ‡§®‡§æ‡§ó‡§∞‡§ø‡§ï‡§æ‡§Ç‡§∏‡§æ‡§†‡•Ä ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§Æ‡•Å‡§¶‡•ç‡§¶‡•á</li>
    <li>‡§∏‡•ç‡§•‡§æ‡§®‡§ø‡§ï ‡§®‡§æ‡§ó‡§∞‡•Ä ‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡§æ‡§Ç‡§µ‡§∞ ‡§∏‡§Ç‡§µ‡§æ‡§¶</li>
   </ul>
   <strong>Consultant Remark:</strong>
   <p>‡§π‡§æ ‡§™‡•ç‡§∞‡§≠‡§æ‡§ó ‡§Æ‡§π‡§æ‡§™‡§æ‡§≤‡§ø‡§ï‡§æ ‡§™‡§æ‡§§‡§≥‡•Ä‡§µ‡§∞ ‡§∏‡§Ç‡§µ‡•á‡§¶‡§®‡§∂‡•Ä‡§≤ ‡§Ü‡§π‡•á. ‡§∏‡§æ‡§§‡§§‡•ç‡§Ø‡§™‡•Ç‡§∞‡•ç‡§£ ‡§â‡§™‡§∏‡•ç‡§•‡§ø‡§§‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï.</p>
  </div>

  <div class="box tracker">
   <h3>üìä Daily Field & Survey Inputs</h3>
   <ul>
    <li>Household interactions today: 455</li>
    <li>Local meetings conducted: 5</li>
    <li>Active volunteers: 29</li>
    <li>Key civic issues: Water supply, Roads, Drainage</li>
   </ul>
  </div>
 </div>
</div>

<script>
const wardSummaries=[
"‡§∂‡§ø‡§µ‡§æ‡§ú‡•Ä‡§®‡§ó‡§∞, ‡§°‡•á‡§ï‡•ç‡§ï‡§® ‡§ú‡§ø‡§Æ‡§ñ‡§æ‡§®‡§æ ",
"‡§™‡•Å‡§£‡•á ‡§∏‡•á‡§Ç‡§ü‡•ç‡§∞‡§≤",
"‡§∏‡§¶‡§æ‡§∂‡§ø‡§µ ‡§™‡•á‡§† ",
"‡§ï‡§∏‡§¨‡§æ ‡§™‡•á‡§† ",
"‡§¨‡§æ‡§£‡•á‡§∞ ",
"‡§¨‡§æ‡§≤‡•á‡§µ‡§æ‡§°‡•Ä ",
"‡§π‡§°‡§™‡§∏‡§∞ ",
"‡§∂‡§ø‡§µ‡§æ‡§ú‡•Ä‡§®‡§ó‡§∞, ‡§°‡•á‡§ï‡•ç‡§ï‡§® ‡§ú‡§ø‡§Æ‡§ñ‡§æ‡§®‡§æ ",
"‡§™‡•Å‡§£‡•á ‡§∏‡•á‡§Ç‡§ü‡•ç‡§∞‡§≤",
"‡§∏‡§¶‡§æ‡§∂‡§ø‡§µ ‡§™‡•á‡§† ",
"‡§ï‡§∏‡§¨‡§æ ‡§™‡•á‡§† ",
"‡§¨‡§æ‡§£‡•á‡§∞ ",
"‡§¨‡§æ‡§≤‡•á‡§µ‡§æ‡§°‡•Ä ",
"‡§π‡§°‡§™‡§∏‡§∞ ",
"‡§∏‡§¶‡§æ‡§∂‡§ø‡§µ ‡§™‡•á‡§† "
];

const wards=[];
for(let i=1;i<=15;i++){
 wards.push({
  name:`Ward ${i}`,
  summary:wardSummaries[i-1],
  seats:[
   {n:"A",cat:"SC Women"},
   {n:"B",cat:"OBC"},
   {n:"C",cat:"Open Women"},
   {n:"D",cat:"Open"}
  ]
 });
}

let activeAsm=1;
const grid=document.getElementById("wardGrid");

function setAssembly(a){
 activeAsm=a;
 document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
 event.target.classList.add("active");
 renderWards();
}

function renderWards(){
 grid.innerHTML="";
 wards
 .filter(w=>activeAsm===1?+w.name.split(" ")[1]<=9:+w.name.split(" ")[1]>9)
 .forEach(w=>{
  const card=document.createElement("div");
  card.className="card";
  card.innerHTML=`
   <strong>${w.name}</strong>
   <p>${w.summary}</p>
  `;
  card.onclick=()=>openWard(w);
  grid.appendChild(card);
 });
}

function openWard(w){
 wardModal.classList.add("active");
 wardTitle.textContent=`${w.name} ‚Äì Seat Overview`;
 seatGrid.innerHTML=w.seats.map(s=>`
  <div class="seat" onclick='openSeat("${w.name}","${s.n}","${s.cat}")'>
   <span class="badge">${s.cat}</span><br>
   Seat ${s.n}
   <div style="margin-top:6px;font-size:13px;color:#475569">
    Ward-level intelligence available
   </div>
  </div>
 `).join("");
}

function closeWard(){wardModal.classList.remove("active")}

let chart;
function openSeat(ward,seat,cat){
 seatModal.classList.add("active");
 seatTitle.textContent=`${ward} ‚Äì Seat ${seat} (${cat})`;

 if(chart)chart.destroy();
 chart=new Chart(document.getElementById("trendChart"),{
  type:"line",
  data:{
   labels:["Day -4","Day -3","Day -2","Day -1","Today"],
   datasets:[
    {label:"Support Trend",data:[48,50,52,53,55],borderColor:"#f97316",tension:.4},
    {label:"Opposition Trend",data:[52,50,49,48,47],borderColor:"#16a34a",tension:.4}
   ]
  },
  options:{
   scales:{y:{min:40,max:60}},
   plugins:{legend:{position:"bottom"}}
  }
 });
}

function closeSeat(){seatModal.classList.remove("active")}

renderWards();
</script>

</body>
</html>
